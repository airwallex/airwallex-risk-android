// Top-level build file where you can add configuration options common to all sub-projects/modules.
buildscript {
    ext {
        airwallexSdkVersion = '1.0.5'
        detektVersion = '1.17.1'
        jacocoVersion = '0.8.8'

        coverageFileFilter = [
            // data binding
            '**/databinding/*',
            'android/databinding/**/*.class',
            '**/android/databinding/*Binding.class',
            '**/android/databinding/*',
            '**/androidx/databinding/*',
            '**/BR.*',
            // android
            '**/R.class',
            '**/R$*.class',
            '**/BuildConfig.*',
            '**/Manifest*.*',
            '**/*Test*.*',
            'android/**/*.*',
            // kotlin
            '**/*MapperImpl*.*',
            '**/*$ViewInjector*.*',
            '**/*$ViewBinder*.*',
            '**/BuildConfig.*',
            '**/*Component*.*',
            '**/*BR*.*',
            '**/Manifest*.*',
            '**/*$Lambda$*.*',
            '**/*Companion*.*',
            '**/*Module*.*',
            '**/*Dagger*.*',
            '**/*Hilt*.*',
            '**/*MembersInjector*.*',
            '**/*_MembersInjector.class',
            '**/*_Factory*.*',
            '**/*_Provide*Factory*.*',
            // sealed and data classes
            '**/*$Result.*',
            '**/*$Result$*.*',
            // adapters generated by moshi
            '**/*JsonAdapter.*',
            '**/*inlined*.class', /* filtering inlined classes */

            '**/*Module_*Factory.class',
            '**/*Application.*',
            '**/*Activity.*',
            '**/*Fragment.*',
            '**/*View.*',
            '**/*MenuProvider.*',
            '**/*ViewExtensions*',
            '**/*Decoration.*',
            '**/*ViewHolder.*',
            '**/*Adapter.*',
            '**/*Listener.*',
            '**/di/**',
            '**/*TypefaceSpan.*',
            '**/RuntimeTypeAdapterFactory.*',
            '**/*BuilderProvider.*',
            '**/BuildHelper.*',
            '**/BuildConfigHelper.*',
            '**/ApiService.*',
            '**/DataCollector.*',
            '**/AirwallexRisk.*'
        ]
    }
}

plugins {
    id 'com.android.application' version '8.0.2' apply false
    id 'com.android.library' version '8.0.2' apply false
    id 'org.jetbrains.kotlin.android' version '1.9.0' apply false
    id 'org.jetbrains.kotlin.plugin.serialization' version '1.8.21'
    id "io.gitlab.arturbosch.detekt" version "1.17.1"
    id "org.sonarqube" version "3.3"
    id "io.github.gradle-nexus.publish-plugin" version "1.3.0"
    id "jacoco"
}

allprojects {
    apply plugin: 'io.gitlab.arturbosch.detekt'

    detekt {
        config = files("$rootDir/config/detekt.yml")
    }
}

apply from: "${rootDir}/sonar.gradle"

